version: 1
frontend:
  phases:
    preBuild:
      commands:
        - echo "Preparing static frontend files"
        - ls -la frontend
        - echo "Checking frontend file structure"
        - 'test -f frontend/index.html || (echo "Error: frontend/index.html not found" && exit 1)'
        - 'test -f frontend/css/style.css || (echo "Error: frontend/css/style.css not found" && exit 1)'
    build:
      commands:
        - echo "Building frontend application"
        - echo "Validating JavaScript files"
        - 'test -f frontend/js/app.js || (echo "Error: frontend/js/app.js not found" && exit 1)'
        - 'test -f frontend/js/api-client.js || (echo "Error: frontend/js/api-client.js not found" && exit 1)'
        - echo "Frontend build completed successfully"
    postBuild:
      commands:
        - echo "Frontend post-build validation"
        - 'ls -la frontend/'
        - echo "Verifying all required files are present"
  artifacts:
    baseDirectory: frontend
    files:
      - 'index.html'
      - 'login.html'
      - 'signup.html'
      - 'css/**/*'
      - 'js/**/*'
      - 'package.json'
    excludeFiles:
      - '**/.DS_Store'
      - '**/node_modules/**'
      - '**/*.log'
      - '**/*.tmp'
  cache:
    paths:
      - frontend/node_modules/**/*
