# 実装計画

- [x] 1. バックエンド基盤の拡張





  - 既存のSpring Bootアプリケーションに新しいエンティティとAPIエンドポイントを追加
  - データベーススキーマを拡張して負荷状況と困りごと管理機能を実装
  - _要件: 1.1, 2.1, 3.1_

- [x] 1.1 WorkloadStatusエンティティとリポジトリの実装


  - WorkloadStatusエンティティクラスを作成し、JPA設定を行う
  - WorkloadStatusRepositoryインターフェースを実装してCRUD操作を定義
  - WorkloadLevel列挙型を定義（HIGH, MEDIUM, LOW）
  - _要件: 1.1, 2.1_

- [x] 1.2 TeamIssueエンティティとリポジトリの実装


  - TeamIssueエンティティクラスを作成し、User関係を設定
  - IssueCommentエンティティクラスを作成し、TeamIssue関係を設定
  - TeamIssueRepositoryとIssueCommentRepositoryを実装
  - IssueStatus列挙型を定義（OPEN, RESOLVED）
  - _要件: 3.1, 3.3_

- [x] 1.3 データベーススキーマ更新


  - workload_statusテーブル作成のDDLスクリプトを作成
  - team_issuesテーブル作成のDDLスクリプトを作成
  - issue_commentsテーブル作成のDDLスクリプトを作成
  - data.sqlにテストデータを追加
  - _要件: 1.1, 2.1, 3.1_

- [x] 2. WorkloadStatus API実装





  - 負荷状況の取得・更新APIエンドポイントを実装
  - DTOクラスとサービスレイヤーを作成
  - _要件: 1.1, 1.3, 2.1, 2.3_

- [x] 2.1 WorkloadStatusサービスクラス実装


  - WorkloadStatusServiceクラスを作成してビジネスロジックを実装
  - 全メンバーの負荷状況取得メソッドを実装
  - 個人の負荷状況更新メソッドを実装
  - バリデーション処理を追加
  - _要件: 1.1, 2.1, 2.3_

- [x] 2.2 WorkloadStatus DTO実装


  - WorkloadStatusRequestDTOクラスを作成
  - WorkloadStatusResponseDTOクラスを作成
  - DTOとエンティティ間のマッピングメソッドを実装
  - _要件: 2.1, 2.3_

- [x] 2.3 WorkloadStatusコントローラー実装


  - WorkloadStatusControllerクラスを作成
  - GET /api/workload-statusエンドポイントを実装（全メンバー取得）
  - GET /api/workload-status/myエンドポイントを実装（個人取得）
  - POST /api/workload-statusエンドポイントを実装（更新）
  - エラーハンドリングとバリデーションを追加
  - _要件: 1.1, 1.3, 2.1, 2.3_

- [x] 3. TeamIssue API実装





  - 困りごと共有機能のAPIエンドポイントを実装
  - コメント機能と解決マーク機能を含む
  - _要件: 3.1, 3.2, 3.3_

- [x] 3.1 TeamIssueサービスクラス実装


  - TeamIssueServiceクラスを作成してビジネスロジックを実装
  - 困りごと一覧取得メソッドを実装
  - 困りごと投稿メソッドを実装
  - 困りごと解決マークメソッドを実装
  - コメント投稿・取得メソッドを実装
  - _要件: 3.1, 3.2, 3.3_

- [x] 3.2 TeamIssue DTO実装


  - TeamIssueRequestDTOクラスを作成
  - TeamIssueResponseDTOクラスを作成
  - IssueCommentRequestDTOとIssueCommentResponseDTOクラスを作成
  - DTOとエンティティ間のマッピングメソッドを実装
  - _要件: 3.1, 3.3_

- [x] 3.3 TeamIssueコントローラー実装


  - TeamIssueControllerクラスを作成
  - GET /api/team-issuesエンドポイントを実装（一覧取得）
  - POST /api/team-issuesエンドポイントを実装（投稿）
  - PUT /api/team-issues/{id}/resolveエンドポイントを実装（解決マーク）
  - POST /api/team-issues/{id}/commentsエンドポイントを実装（コメント投稿）
  - GET /api/team-issues/{id}/commentsエンドポイントを実装（コメント取得）
  - _要件: 3.1, 3.2, 3.3_

- [x] 4. フロントエンド基盤拡張





  - 既存のHTML/CSS/JavaScriptアプリケーションに新機能のUIを追加
  - 負荷状況表示と困りごと共有のセクションを実装
  - _要件: 1.1, 1.2, 4.1, 4.3_

- [x] 4.1 負荷状況表示セクション実装


  - ダッシュボードに負荷状況セクションのHTMLを追加
  - 負荷レベル別の色分け表示CSSを実装
  - 全メンバーの負荷状況を取得・表示するJavaScript関数を実装
  - 最終更新日時の表示機能を追加
  - _要件: 1.1, 1.3_

- [x] 4.2 負荷状況更新フォーム実装


  - 負荷状況更新用のモーダルフォームHTMLを作成
  - 負荷レベル選択（必須）と案件数・タスク数入力（任意）のフォームを実装
  - フォーム送信処理のJavaScript関数を実装
  - バリデーション処理とエラー表示を追加
  - _要件: 2.1, 2.3_

- [x] 4.3 困りごと表示セクション実装


  - ダッシュボードに困りごとセクションのHTMLを追加
  - 困りごと一覧表示のCSSスタイルを実装
  - 困りごと取得・表示するJavaScript関数を実装
  - 解決済み・未解決の状態表示を追加
  - _要件: 3.2, 4.1_

- [x] 4.4 困りごと投稿・コメント機能実装


  - 困りごと投稿用のモーダルフォームHTMLを作成
  - 困りごと投稿処理のJavaScript関数を実装
  - コメント表示・投稿機能のHTMLとJavaScriptを実装
  - 解決マーク機能のボタンとイベントハンドラーを追加
  - _要件: 3.1, 3.3_

- [x] 5. API統合とデータフロー実装










  - フロントエンドとバックエンドAPIの統合
  - リアルタイム更新機能の実装
  - _要件: 1.3, 4.2_

- [x] 5.1 APIクライアント関数実装







  - 負荷状況API呼び出し関数を実装（取得・更新）
  - 困りごとAPI呼び出し関数を実装（取得・投稿・解決・コメント）
  - エラーハンドリングとローディング状態管理を追加
  - 認証トークンの自動付与機能を実装
  - _要件: 1.1, 2.1, 3.1_

- [x] 5.2 データ更新とUI反映機能実装




  - 負荷状況更新後のダッシュボード自動更新機能を実装
  - 困りごと投稿後の一覧自動更新機能を実装
  - 更新通知機能（成功・エラーメッセージ）を実装
  - _要件: 2.3, 3.2, 4.2_

- [x] 6. 単体テスト実装






















  - バックエンドの各レイヤーの単体テストを作成
  - エンティティ、リポジトリ、サービス、コントローラーのテストを実装
  - _要件: 全要件のテスト確保_

- [x] 6.1 エンティティとリポジトリテスト実装







  - WorkloadStatusエンティティのバリデーションテストを作成
  - TeamIssueとIssueCommentエンティティのテストを作成
  - リポジトリクラスのCRUD操作テストを実装
  - データベース制約とリレーションシップのテストを追加
  - _要件: 1.1, 2.1, 3.1_

- [x] 6.2 サービスレイヤーテスト実装


  - WorkloadStatusServiceのビジネスロジックテストを作成
  - TeamIssueServiceのビジネスロジックテストを作成
  - 例外処理とエラーケースのテストを実装
  - モックを使用した依存関係のテストを追加
  - _要件: 2.1, 3.1_

- [x] 6.3 コントローラーテスト実装


  - WorkloadStatusControllerのAPIエンドポイントテストを作成
  - TeamIssueControllerのAPIエンドポイントテストを作成
  - HTTPステータスコードとレスポンス形式のテストを実装
  - 認証・認可のテストを追加
  - _要件: 1.1, 2.1, 3.1_

- [x] 7. 統合テストと動作確認








































  - フロントエンドからバックエンドまでの一連の動作テスト
  - ユーザーシナリオベースの統合テスト実装
  - _要件: 全要件の統合テスト_

- [x] 7.1 負荷状況機能の統合テスト


  - 負荷状況更新から表示までの一連の流れをテスト
  - 複数ユーザーでの負荷状況表示テストを実装
  - 負荷レベル別の色分け表示テストを実行
  - _要件: 1.1, 1.3, 2.1, 2.3_

- [x] 7.2 困りごと共有機能の統合テスト




  - 困りごと投稿から表示までの一連の流れをテスト
  - コメント機能と解決マーク機能のテストを実装
  - 複数ユーザー間での困りごと共有テストを実行
  - _要件: 3.1, 3.2, 3.3_

- [x] 7.3 全体機能の統合テスト































  - ダッシュボード全体の表示・更新機能テストを実行
  - 認証機能と新機能の連携テストを実装
  - パフォーマンステストとレスポンス時間測定を実行
  - _要件: 4.1, 4.2_